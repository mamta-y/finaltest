
<div class="alert alert-danger" *ngIf = "error">{{ error }}</div>
<div class="alert alert-success" *ngIf = "message">{{ message }}</div>

<div class="h12" style="height: 250px; width: 100%;"></div>

<div class="row">
    <span class="p1" style="text-align: center; color: black; font-size:xx-large; font-weight: 300;"><b>Get Updates.... </b></span>

</div>

<div class="row">
    <div class="table-responsive">
<table class="table table-bordered  border-danger" border="1" >
    <thead class="table-dark">
        <tr>
            <th>S.No. </th>
            <th>From</th>
            <th>To</th>
            <th>Reason</th>
            <th>Status</th>
            <th *ngIf="auth.isLoggedIn() && auth.isAdmin()">Action</th>
            
        </tr>
    </thead>
    <tbody>
        <tr *ngFor ="let leave of leav;let i=index">
            <td>
                {{i+1}} 
            </td>
            <td>{{ leave.from }} </td>
            <td>{{ leave.to }}</td>
            <td>{{ leave.reason }}</td>
            <td>{{ leave.status }}</td>
           <td>
            <button class="btn btn-warning" (click) ="onEdit(leave)" *ngIf="auth.isLoggedIn() && auth.isAdmin()" >Update</button>
            <button class="btn btn-primary" (click)="deleting(leave)" *ngIf="auth.isLoggedIn() && auth.isAdmin()">Delete</button>
            </td>
            
            
        </tr>
    </tbody>
</table>
</div>
</div>

           


              <div class="col-md-4 offset-md-4 mt-4">
                <form
                  action=""
                  #editForm="ngForm"
                  (ngSubmit) = "onFormSubmit()"
                  *ngIf = "selectedToEdit && !itemUpdating">
                  <div class="card">
                    <div class="card-header text-success text-center fw-bolder">
                      Update Employee
                    </div>
                    <div class="card-body">
                        <div class="form-group">
                            <label for="from">From</label>
                        
                            <input type="date" class="form-control" name="from"  required
                             [(ngModel)] = "selectedToEdit.from" 
                            />
                        </div>
                        <div class="form-group">
                            <label for="to">To</label>
                            <input type="date" class="form-control" name="to" required 
         [(ngModel)] = "selectedToEdit.to"
                            />
                        </div>
                        <div class="form-group">
                            <label for="reason">Reason</label>
                        <input type="text" class="form-control" name="reason"   required
                     [(ngModel)] = "selectedToEdit.reason"
                            />
                        </div>
                        <div class="form-group">
                            <label for="status">Status</label>
                        <select name="status" id="status" class="form-control"   required  
                        [(ngModel)] = "selectedToEdit.status">
                            <option value="">select------</option>
                         <option value="approved">Approved</option>
                        <option value="cancelled">Cancelled</option>
                        <option value="pending">Pending</option>
                            </select>
                          <!---  <input type="text" name="status" id="status" required  [(ngModel)] = "selectedToEdit.status">-->
                        </div>
                       
                
                <div class="card-footer">
                  <button type="submit" class="btn btn-secondary" >Submit</button>
                  <button type="reset" class="btn btn-primary" >Reset</button>
                </div>
            </div>
            </div>
            </form>
            </div>